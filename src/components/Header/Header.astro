---
import { Image } from 'astro:assets'
import CartIcon from "../../assets/icons/CartShopIcon.svg"
import BurgerImage from "../../assets/images/burger.png"
import NavLinks from './NavLinks.astro'
import NavLinkBag from './NavLinkBag'
---

<header>
	<div class='logo-container'>
		<a href='/'>
			<h1 class='logo'>Brillaire</h1>
		</a>
		<span style='font-size: 0.7rem'>Have a great time.</span>
		<span style='font-size: 0.7rem'>Free shipping over 275$ CAD</span>
	</div>
	<NavLinks />
	<div class='cart-container'>
		<a href='/cart'>
			<Image src={CartIcon} alt='cart' width="20" height="20" />
		</a>
		<Image id='burguer-icon' src={BurgerImage} alt='burguer' width='22' height='10' />
		<nav class='nav-links' id='nav-links'>
			<button class='close-btn' id='close-btn'>CLOSE</button>
			<ul>
				<li><a class='link' href='/'>HOME</a></li>
				<li><a class='link' href='/shop'>SHOP</a></li>
				<li><a class='link' href='/faq'>FAQ</a></li>
				<NavLinkBag client:load />
			</ul>
		</nav>
	</div>
</header>

<style>
	header {
		display: flex;
		align-items: flex-start;
		justify-content: space-between;
		padding: 1.875rem;
		width: 100%;
	}

	.logo-container {
		display: flex;
		flex-direction: column;
		gap: 0.2rem;
	}

	.logo {
		font-size: 2rem;
		font-weight: 600;
		text-transform: uppercase;
		font-family: sans-serif;
		letter-spacing: 1px;
		margin-bottom: .3rem;
	}

	.cart-container {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		cursor: pointer;
		display: none;
	}

	.nav-active {
		display: flex;
	}

	.close-btn {
		text-align: left;
    width: 100%;
		font-size: 1rem;
	}

	.nav-links {
		display: none;
		flex-direction: column;
		position: absolute;
		top: 0;
		right: 0;
		background-color: #fff;
		width: 100%;
		padding: 30px 20px 20px;
		height: 100%;
		flex-direction: column;
    align-items: flex-end;
		font-size: 1rem;
		z-index: 10;
	}

	ul {
		display: flex;
		flex-direction: column;
		align-items: flex-end;
	}

	.link {
		margin-bottom: 5px;
	}

	@media (max-width: 768px) {
		.cart-container {
			display: flex;
		}
	}
</style>

<script>
	const burguerIcon = document.getElementById('burguer-icon');
	const navLinks = document.getElementById('nav-links');
	const closeBtn = document.getElementById('close-btn');

	burguerIcon.addEventListener('click', () => {
		document.body.style.overflow = 'hidden'
		navLinks.style.display = 'flex'
	})

	closeBtn.addEventListener('click', () => {
		document.body.style.overflow = 'auto'
		navLinks.style.display = 'none'
	})
</script>
